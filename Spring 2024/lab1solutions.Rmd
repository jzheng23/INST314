---
title: 'Solutions to Lab 1: Introduction to R and Data Management'
output:
  pdf_document: default
  html_document:
    df_print: paged
subtitle: null
---

# Packages and Dataset

```{r, results='hide', message=FALSE}
require(dplyr)
# Make sure to edit the path!
filepath <- '/Users/bkim/Downloads/MillionSongsFinal.csv'
songs <- read.csv(filepath)
```

Let's break down some of the pieces of what we just did. First, we create a string object called "`filepath`" that contains the location of our file. Then, we included it as an argument for the "`read.csv()`" function. This function reads the CSV file and outputs a data frame containing the information in that file. Then, we use "`head()`" to look at the first few rows to make sure it's been brought in properly.  

Try exploring this dataset like we've done with the `email` dataset. Then, answer the following the questions:

## Questions

For each of the questions, make sure you include all relevant code used to reach the answer.

#### 1) What is the unit of observation?

The individual songs.

#### 2) How many variables are there?
```{r}
ncol(songs)
```

There are 12 variables.

#### 3) How many observations are there?

```{r}
nrow(songs)
```
There are 546 observations.

#### 4) What are the types of each variable? You can check the data description file for more information about each variable in the Million Songs dataset.

|Variable | Type |
|---|---|
|`track_id`|nominal categorical|
|`artist_name`|nominal categorical|
|`title`|nominal categorical|
|`genre`|nominal categorical|
|`mode`|nominal categorical|
|`duration`|continuous numerical|
|`artist_hotttnesss`|continuous numerical|
|`key`|nominal categorical|
|`loudness`|continuous numerical|
|`tempo`|continuous numerical|
|`time_signature`|ordinal categorical|
|`artist_familiarity`|continuous numerical|

You could also consider time signature to be nominal categorical.

#### 5) Suppose we want to look at the relationship between mode and tempo for classic pop and rock songs. Subset the data so that we have only the relevant information. 

```{r}
songs_subset <- songs %>% filter(genre == "classic pop and rock") %>% select(mode, tempo)
```


#### 6) What are the five fastest songs and five slowest songs in the dataset?

```{r, results='hide'}
# The five slowest songs
songs %>% select(artist_name, title, duration) %>% 
  arrange(duration) %>% head(5)
# The five fastest songs
songs %>% select(artist_name, title, duration) %>%
  arrange(desc(duration)) %>% head(5)
```
Slowest songs:

| Song |
|---|
| Carta De Amor |
|Studio Dialogue (#26)|	
|Bad People|	
|Lost In The Future (False Start -#1)	|
|Introduction (Album Version)|	

Fastest songs:

|Song|
|---|
|Rude!/ Drum Solo|
|Pli Selon Pli ("fold according to fold")|
|Traveling Fast|
|Shogun|
|The Matter With You|

## Additional Questions

#### Studies suggest that medical professionals are better able to perform CPR if they recall a song with the proper tempo. If the recommended rate of chest compressions for CPR is between 100 and 120 compressions per minute, how many songs in the Million Songs dataset would work for this? How many folk songs would work for this?

```{r}
# How many total songs work for CPR
songs %>% filter(tempo < 120 & tempo > 100) %>% nrow()

# How many folk songs work for CPR
songs %>% filter(tempo < 120 & tempo > 100, genre == 'folk') %>% nrow()
```

#### If you had to recommend one song from this dataset to recall for CPR purposes, what would you recommend? Keep in mind that the ideal song is "catchy" and recognizable by as many people as possible, so that the person administering CPR is more likely to be able to hear in their head.

Answers to this question may vary. You might want to find the highest artist hotness score, for example, or you might want to limit it to only certain genres that lend themselves well to catchy beats. One solution:

```{r}
songs %>% filter(tempo < 120 & tempo > 100)  %>%
  arrange(desc(artist_hotttnesss)) %>% select(artist_name,title) %>%
  head(1)
```